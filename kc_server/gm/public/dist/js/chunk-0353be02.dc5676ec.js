(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0353be02"],{"2ff5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{background:"#f9f9f9",width:"350px",padding:"20px",margin:"10px"}},[a("el-form",{ref:"mail",attrs:{model:t.formData,rules:t.formRules,"label-width":"80px"}},[a("el-form-item",{ref:"username",attrs:{label:"账号角色"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],staticClass:"form-control",attrs:{autocomplete:"off"},domProps:{value:t.formData.username},on:{input:function(e){e.target.composing||t.$set(t.formData,"username",e.target.value)}}})]),a("el-form-item",{ref:"itemtype",attrs:{label:"邮件类型"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.itemtype,expression:"formData.itemtype"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"itemtype",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("货币")]),a("option",{attrs:{value:"1"}},[t._v("物品")])])]),0==t.formData.itemtype?a("el-form-item",{ref:"item",attrs:{label:"货币类型"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.item,expression:"formData.item"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"item",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("经验")]),a("option",{attrs:{value:"1"}},[t._v("金币")]),a("option",{attrs:{value:"2"}},[t._v("元宝")]),a("option",{attrs:{value:"3"}},[t._v("绑定元宝")])])]):t._e(),1==t.formData.itemtype?a("el-form-item",{ref:"item",attrs:{label:"物品名称"}},[a("div",{staticStyle:{position:"relative"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.item,expression:"formData.item"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"item",e.target.multiple?a:a[0])}}},t._l(t.itemOptions,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),0),a("input",{staticClass:"form-control",staticStyle:{background:"#ddffbe"},attrs:{placeholder:"物品名称过滤",autocomplete:"off"},on:{input:t.filterItem}})])]):t._e(),a("el-form-item",{ref:"num",attrs:{label:"数量"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.num,expression:"formData.num"}],staticClass:"form-control",attrs:{type:"number",placeholder:"数量",autocomplete:"off"},domProps:{value:t.formData.num},on:{input:function(e){e.target.composing||t.$set(t.formData,"num",e.target.value)}}})]),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.submitForm("mail")}}},[t._v(" 发送邮件 ")])],1)],1)],1)])},r=[],o=a("424b"),n=a("5c96"),m={name:"Gmcmd",data:()=>({items:[],itemOptions:[],formData:{username:"",itemtype:1,item:0,num:1},formRules:{username:[{required:!0}]}}),mounted(){this.init()},methods:{init:function(){let t=n["Loading"].service({fullscreen:!0});o["a"].get("/api/game/items").then(t=>{this.itemOptions=this.items=t.data,0!==this.itemOptions.length&&(this.formData.item=this.itemOptions[0].value)}).finally(()=>{t.close()})},submitForm:function(t){switch(console.log(t),t){case"mail":this.sendMail();break}},filterItem:function(t){if(""===t.target.value)return this.itemOptions=this.items,void(this.formData.item="");this.itemOptions=this.items.filter(e=>{if(-1!==e.label.indexOf(t.target.value))return!0}),0!==this.itemOptions.length&&(this.formData.item=this.itemOptions[0].value)},sendMail:function(){""!==this.formData.username.trim()?o["a"].post("/api/game/sendMail",this.formData).then(t=>{0===t.data?this.$message.error("邮件发送失败"):this.$message.success("邮件发送成功")}):this.$message.error("账号为空")}}},s=m,l=(a("312b"),a("2877")),u=Object(l["a"])(s,i,r,!1,null,"c0a07b2c",null);e["default"]=u.exports},"312b":function(t,e,a){"use strict";a("95f4")},"95f4":function(t,e,a){}}]);