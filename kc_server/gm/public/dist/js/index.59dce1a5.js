(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={index:0},r={index:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0353be02":"dc5676ec","chunk-2d0d6b55":"a8c6b5d3","chunk-2d0e5eb7":"2b905507","chunk-2d230a96":"87221c6c","chunk-4d600ebb":"899d5958","chunk-4fb0a43a":"ad821cd7","chunk-56a6077e":"36a42714","chunk-6e2dd763":"8bc1ff04","chunk-71558fde":"0cccc0ac","chunk-c4f48606":"fa7bfc24","chunk-df3a391c":"e3093225","chunk-f6dfe8bc":"83f7b675"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0353be02":1,"chunk-4d600ebb":1,"chunk-4fb0a43a":1,"chunk-56a6077e":1,"chunk-6e2dd763":1,"chunk-71558fde":1,"chunk-c4f48606":1,"chunk-df3a391c":1,"chunk-f6dfe8bc":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-0353be02":"f5a2c123","chunk-2d0d6b55":"31d6cfe0","chunk-2d0e5eb7":"31d6cfe0","chunk-2d230a96":"31d6cfe0","chunk-4d600ebb":"3570fe6c","chunk-4fb0a43a":"b164e077","chunk-56a6077e":"21560a06","chunk-6e2dd763":"5442eee8","chunk-71558fde":"c7aaad74","chunk-c4f48606":"b84fb84b","chunk-df3a391c":"848082d2","chunk-f6dfe8bc":"86fc2d50"}[e]+".css",r=c.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===r))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===a||u===r)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[e],h.parentNode.removeChild(h),n(i)},h.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){o[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}r[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/client/4fb0a43ab164e077/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("20f5")},"20f5":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),o=n("5c96"),r=n.n(o),i=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",{staticStyle:{padding:"0px"}},[n("Nav")],1),n("el-container",[n("el-main",{staticStyle:{padding:"0px"}},[n("router-view")],1)],1)],1)}),s=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("登录")]),n("el-button",{staticStyle:{float:"right",padding:"3px 0px"},attrs:{type:"text"},on:{click:function(t){e.loginType=!e.loginType}}},[e._v(" "+e._s(e.loginType?"账号登录":"扫码登录")+" ")])],1),e.loginType?n("div",[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"qrcode",attrs:{"element-loading-text":"拼命加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:e.qrcode}})]),n("div",{staticClass:"text"},[e._v(" 微信扫一扫登录 ")])]):e._e(),e.loginType?e._e():n("div",[n("el-form",{ref:"loginForm",attrs:{rules:e.loginFormRules,model:e.user}},[n("el-form-item",{attrs:{prop:"phone"}},[n("el-input",{attrs:{type:"text","prefix-icon":"el-icon-user",placeholder:"账号",autocomplete:"off"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password","prefix-icon":"el-icon-unlock",placeholder:"密码",autocomplete:"off"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登录 ")])],1)],1)],1)])},l=[],u=n("424b"),d={name:"Login",data(){return{it:null,qrcode:"",uuid:"",expire:1e4,loading:!0,loginType:!0,user:{},loginFormRules:{phone:[{required:!0,message:"手机必须输入",trigger:"blur"}],password:[{required:!0,message:"密码必须输入",trigger:"blur"}]}}},methods:{submitForm:function(e){this.$refs[e].validate(e=>{if(!e)return;let t={phone:this.user.phone,password:this.user.password};u["a"].post("/api/login/password/verify",t).then(e=>{window.console.log("resp",e),e.data.token?(clearInterval(this.it),window.console.clear(),window.localStorage.setItem("user",JSON.stringify(e.data.user)),window.localStorage.setItem("token",e.data.token),this.$store.commit("login")):this.$message.error("验证失败")}).catch(e=>{this.$message.error(e.message)})})}},mounted:function(){let e=window.localStorage.getItem("token");e||u["a"].get("/api/auth/wechat/qrcode").then(e=>{this.loading=!1;let t=e.data;this.qrcode=t.url,this.uuid=t.uuid,this.expire=Date.now()/1e3+t.expire,this.it=setInterval(()=>{if(window.console.log(parseInt(this.expire-Date.now()/1e3),"秒后二维码过期"),Date.now()/1e3>=this.expire)clearInterval(this.it),this.loading=!0;else{let e={uuid:this.uuid};u["a"].get("/api/auth/wechat/qrcode/status",e).then(e=>{e.data.token&&(clearInterval(this.it),window.console.clear(),window.localStorage.setItem("user",JSON.stringify(e.data.user)),window.localStorage.setItem("token",e.data.token),this.$store.commit("login"))}).catch(e=>{this.$message.error(e.message)})}},2e3)}).catch(e=>{this.$message.error(e.message)})}},h=d,f=(n("a1f3"),n("2877")),p=Object(f["a"])(h,c,l,!1,null,"06835ff9",null),m=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{type:"flex"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[n("el-menu-item",{attrs:{index:"Dashboard"}},[e._v("Dashboard")]),n("el-menu-item",{attrs:{index:"Player"}},[e._v("账号列表")]),n("el-menu-item",{attrs:{index:"Gmcmd"}},[e._v("发送邮件")]),n("el-menu-item",{attrs:{index:"Silent"}},[e._v("禁言&解禁")]),n("el-menu-item",{attrs:{index:"BroadCast"}},[e._v("游戏内广播")]),n("el-menu-item",{staticStyle:{float:"right"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeServer},model:{value:e.server,callback:function(t){e.server=t},expression:"server"}},e._l(e.servers,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)},b=[],v={name:"Nav",data(){return{activeIndex:"Dashboard",server:"http://47.118.55.226:90",servers:[{label:"测试服",value:"http://47.118.55.226:90"},{label:"正式服:卧虎藏龙",value:"http://124.71.61.137:90"},{label:"localhost",value:"http://127.0.0.1:90"}]}},mounted(){this.active()},methods:{active:function(){let e=this.$router.options.routes.find(e=>{if("#"+e.path==window.location.hash)return e});console.log("activeRoute",e),this.activeIndex=e.name},handleSelect:function(e,t){"logout"==e?this.logout():this.$route.name!=e&&this.$router.push({name:e})},logout:function(){this.$store.commit("logout"),this.$router.push("/")},changeServer:function(){console.log(this.server),u["a"].setBaseUrl(this.server)}}},k=v,w=Object(f["a"])(k,g,b,!1,null,"3af83812",null),y=w.exports,x={name:"App",components:{Nav:y,Login:m},data:()=>({}),beforeCreate(){},mounted:function(){},methods:{}},S=x,_=(n("3129"),Object(f["a"])(S,i,s,!1,null,null,null)),T=_.exports,C=n("2f62");a["default"].use(C["a"]);var $=new C["a"].Store({state:{isLogin:!1,user:null,datePickerOptions:{shortcuts:[{text:"今天",onClick(e){const t=new Date,n=new Date;t.setTime(n.getTime()+864e5),e.$emit("pick",[n,t])}},{text:"昨天",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-864e5),e.$emit("pick",[n,t])}},{text:"最近一周",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一月",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三月",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]}},getters:{getUser:e=>{if(e.user)return e.user;let t=window.localStorage.getItem("user");return t?(e.user=JSON.parse(t),e.user):null}},mutations:{login:function(e){e.isLogin=!0},logout:function(e){window.localStorage.clear(),e.isLogin=!1}},actions:{},modules:{}}),O=n("8c4f");a["default"].use(O["a"]);const D=[{path:"/",name:"Dashboard",component:()=>n.e("chunk-f6dfe8bc").then(n.bind(null,"09ec"))},{path:"/players",name:"Player",component:()=>n.e("chunk-2d0e5eb7").then(n.bind(null,"9714"))},{path:"/mails",name:"Mail",component:()=>n.e("chunk-2d0d6b55").then(n.bind(null,"7468"))},{path:"/onekey",name:"Onekey",component:()=>n.e("chunk-2d230a96").then(n.bind(null,"ecdf"))},{path:"/gmcmd",name:"Gmcmd",component:()=>n.e("chunk-0353be02").then(n.bind(null,"2ff5"))},{path:"/go",name:"Go",component:()=>n.e("chunk-4d600ebb").then(n.bind(null,"9e07"))},{path:"/shell",name:"Shell",component:()=>n.e("chunk-6e2dd763").then(n.bind(null,"6bcf"))},{path:"/charge",name:"Charge",component:()=>n.e("chunk-c4f48606").then(n.bind(null,"4a48"))},{path:"/sendgiftpack",name:"SendGiftPack",component:()=>n.e("chunk-71558fde").then(n.bind(null,"53f5"))},{path:"/editgiftpack",name:"EditGiftPack",component:()=>n.e("chunk-df3a391c").then(n.bind(null,"3788"))},{path:"/silent",name:"Silent",component:()=>n.e("chunk-56a6077e").then(n.bind(null,"4b5b"))},{path:"/broadCast",name:"BroadCast",component:()=>n.e("chunk-4fb0a43a").then(n.bind(null,"60b9"))}],P=new O["a"]({routes:D});var j=P,I=(n("a35d"),n("953d")),E=n.n(I);n("a753"),n("8096"),n("14e1"),n("ec95");a["default"].use(E.a),a["default"].use(r.a);new a["default"]({store:$,router:j,render:e=>e(T)}).$mount("#app")},3129:function(e,t,n){"use strict";n("51a0")},"424b":function(e,t,n){"use strict";var a=n("bc3a"),o=n.n(a),r=n("4328"),i=n.n(r);function s(e,t){return o.a.post(e,t)}function c(e,t){return o.a.put(e,t)}function l(e,t){return o.a.get(e,{params:t})}function u(e,t){return o.a.delete(e,{params:t})}function d(e){o.a.defaults.baseURL=e}o.a.defaults.baseURL="http://47.118.55.226:90",o.a.defaults.timeout=3e4,o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",o.a.interceptors.request.use(e=>{let t=window.localStorage.getItem("token");return t&&(e.params?e.params["token"]=t:e.params={token:t}),"post"===e.method&&(e.data=i.a.stringify(e.data)),e},e=>(window.console.log("错误的传参"),Promise.reject(e))),o.a.interceptors.response.use(e=>e,e=>Promise.reject(e)),t["a"]={post:s,put:c,get:l,destroy:u,setBaseUrl:d}},"51a0":function(e,t,n){},9459:function(e,t,n){},a1f3:function(e,t,n){"use strict";n("9459")},a35d:function(e,t,n){},ec95:function(e,t,n){}});